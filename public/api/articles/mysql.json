{"title":"LEFT JOIN  查询结果不是左表的全部数据的解决方法","uid":"d6849f80e1e300cf37c038a776288648","slug":"mysql","date":"2021-07-22T01:47:36.000Z","updated":"2021-08-16T03:33:49.597Z","comments":true,"path":"api/articles/mysql.json","keywords":"动漫 技术 thinkbim","cover":"https://cdn.jsdelivr.net/gh/ThinkBIM/CDN@V1.0/comic/pic_1.jpg","content":"<h1 id=\"LEFT-JOIN-查询结果不是左表的全部数据的解决方法\"><a href=\"#LEFT-JOIN-查询结果不是左表的全部数据的解决方法\" class=\"headerlink\" title=\"LEFT JOIN  查询结果不是左表的全部数据的解决方法\"></a>LEFT JOIN  查询结果不是左表的全部数据的解决方法</h1><p>LEFT JOIN 查询语句调用小技巧</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>常见以下查询，但是发现查询结果A表的数据不是全部数据？</p></blockquote>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n    a<span class=\"token punctuation\">.</span>id b<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">FROM</span>\n\tA a\n\t<span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> B b <span class=\"token keyword\">ON</span> a<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> b<span class=\"token punctuation\">.</span>id\n<span class=\"token keyword\">WHERE</span>\n    a<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'xxx'</span>\n  <span class=\"token operator\">AND</span> b<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'xxx'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>如果过滤条件是A表的字段  例如：a.xx &#x3D; ‘xxx’</p></blockquote>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n    a<span class=\"token punctuation\">.</span>id b<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">FROM</span>\n\tA a\n\t<span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> B b <span class=\"token keyword\">ON</span> a<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> b<span class=\"token punctuation\">.</span>id\n<span class=\"token keyword\">WHERE</span>\n    a<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'xxx'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>如果过滤的是B表的字段  例如：b.xx &#x3D; ‘xxx’</p></blockquote>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n    a<span class=\"token punctuation\">.</span>id b<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">FROM</span>\n\tA a\n\t<span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> B b <span class=\"token keyword\">ON</span> a<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> b<span class=\"token punctuation\">.</span>id <span class=\"token operator\">and</span> b<span class=\"token punctuation\">.</span>name<span class=\"token operator\">=</span><span class=\"token string\">'xxx'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>如果同时过滤2个表的字段</p></blockquote>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n\ta<span class=\"token punctuation\">.</span>id b<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">FROM</span>\n\tA a\n\t<span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> B b <span class=\"token keyword\">ON</span> a<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> b<span class=\"token punctuation\">.</span>id <span class=\"token operator\">and</span> <span class=\"token operator\">AND</span> b<span class=\"token punctuation\">.</span>NAME <span class=\"token operator\">=</span> <span class=\"token string\">'xxx'</span>\n<span class=\"token keyword\">WHERE</span>\n\ta<span class=\"token punctuation\">.</span>NAME <span class=\"token operator\">=</span> <span class=\"token string\">'xxx'</span> <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","text":"LEFT JOIN 查询结果不是左表的全部数据的解决方法LEFT JOIN 查询语句调用小技巧 常见以下查询，但是发现查询结果A表的数据不是全部数据？ SELECT a.id b.id, ... FROM A a LEFT JOIN B b ON a.id = b.id WHER...","link":"","photos":[],"count_time":{"symbolsCount":597,"symbolsTime":"1 mins."},"categories":[{"name":"MySQL","slug":"MySQL","count":1,"path":"api/categories/MySQL.json"}],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#LEFT-JOIN-%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E4%B8%8D%E6%98%AF%E5%B7%A6%E8%A1%A8%E7%9A%84%E5%85%A8%E9%83%A8%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">LEFT JOIN  查询结果不是左表的全部数据的解决方法</span></a></li></ol>","author":{"name":"ThinkBIM","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/ThinkBIM/CDN@V1.0/logo.png","link":"/","description":"爱看动漫的技术菜鸟","socials":{"github":"https://github.com/ThinkBIM","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/thinkbim","zhihu":"https://www.zhihu.com/people/thinkbim","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Liunx问题总结","uid":"330d911a867eb710c7f804b3c058847c","slug":"liunx","date":"2021-07-22T01:47:36.000Z","updated":"2021-08-16T03:34:15.576Z","comments":true,"path":"api/articles/liunx.json","keywords":"动漫 技术 thinkbim","cover":"https://cdn.jsdelivr.net/gh/ThinkBIM/CDN@V1.0/comic/pic_1.jpg","text":"Liunx问题总结解决GitLab内存消耗大的问题 ","link":"","photos":[],"count_time":{"symbolsCount":26,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"ThinkBIM","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/ThinkBIM/CDN@V1.0/logo.png","link":"/","description":"爱看动漫的技术菜鸟","socials":{"github":"https://github.com/ThinkBIM","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/thinkbim","zhihu":"https://www.zhihu.com/people/thinkbim","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Docker容器常用命令-Container","uid":"b7bf86540a00ca68708b5154fb0c8566","slug":"docker_container","date":"2021-06-22T10:49:36.000Z","updated":"2022-02-25T02:09:54.766Z","comments":true,"path":"api/articles/docker_container.json","keywords":"动漫 技术 thinkbim","cover":"https://cdn.jsdelivr.net/gh/ThinkBIM/CDN@V1.0/comic/pic_1.jpg","text":"exec在运行的容器中执行命令 命令格式docker exec [OPTIONS] CONTAINER COMMAND [ARG...] 常用参数 -d 分离模式: 在后台运行 -i 即使没有附加也保持STDIN 打开 -t 分配一个伪终端 使用示例# 指定容器名称 docker...","link":"","photos":[],"count_time":{"symbolsCount":"17k","symbolsTime":"15 mins."},"categories":[{"name":"Docker","slug":"Docker","count":3,"path":"api/categories/Docker.json"}],"tags":[{"name":"CMD","slug":"CMD","count":4,"path":"api/tags/CMD.json"}],"author":{"name":"ThinkBIM","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/ThinkBIM/CDN@V1.0/logo.png","link":"/","description":"爱看动漫的技术菜鸟","socials":{"github":"https://github.com/ThinkBIM","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/thinkbim","zhihu":"https://www.zhihu.com/people/thinkbim","csdn":"","juejin":"","customs":{}}}}}